# 🏠 3D 방 스캐너

웹 브라우저에서 카메라를 사용하여 방을 스캔하고 3D 도면을 생성하는 웹 애플리케이션입니다.

## ✨ 주요 기능

- **실시간 카메라 스캔**: 웹캠을 통한 실시간 방 스캔
- **3D 포인트 클라우드**: Three.js를 이용한 3D 시각화
- **깊이 추정**: MediaPipe를 활용한 깊이 데이터 처리
- **2D 도면 생성**: 3D 데이터를 기반으로 한 평면도 생성
- **모델 내보내기**: PLY 형식으로 3D 모델 저장
- **반응형 UI**: 모바일 및 데스크톱 지원

## 🚀 시작하기

### 필요 조건

- 최신 웹 브라우저 (Chrome, Firefox, Safari, Edge)
- 웹캠 또는 카메라 접근 권한
- HTTPS 환경 (로컬에서는 localhost 사용)

### 설치 및 실행

1. 프로젝트 폴더로 이동:
```bash
cd 3d-room-scanner
```

2. 로컬 서버 실행 (Python 사용):
```bash
# Python 3
python -m http.server 8000

# 또는 Python 2
python -m SimpleHTTPServer 8000
```

3. 브라우저에서 접속:
```
http://localhost:8000
```

### 다른 서버 옵션

**Node.js 사용:**
```bash
npx serve .
```

**Live Server (VS Code 확장) 사용:**
- VS Code에서 `index.html` 파일을 열고 "Go Live" 클릭

## 📱 사용 방법

### 기본 스캔 과정

1. **카메라 시작**: "📷 카메라 시작" 버튼 클릭
2. **카메라 권한 허용**: 브라우저에서 카메라 접근 허용
3. **스캔 시작**: "🔍 스캔 시작" 버튼 클릭
4. **방 스캔**: 카메라로 방 안을 천천히 둘러보기
   - 모든 벽면을 촬영
   - 바닥과 천장도 포함
   - 천천히 움직여서 선명한 이미지 확보
5. **스캔 완료**: "⏹️ 스캔 중지" 버튼 클릭
6. **결과 확인**: 우측 패널에서 3D 모델 확인

### 추가 기능

- **3D 모델 저장**: "💾 3D 모델 저장" 버튼으로 PLY 파일 다운로드
- **도면 생성**: "📐 도면 생성" 버튼으로 2D 평면도 생성
- **리셋**: "🔄 리셋" 버튼으로 새로운 스캔 시작

### 3D 뷰어 조작

- **회전**: 마우스 드래그로 시점 회전
- **줌**: 마우스 휠로 확대/축소
- **자동 회전**: 포인트 클라우드가 자동으로 회전

## 🛠️ 기술 스택

### 프론트엔드
- **HTML5**: 구조 및 마크업
- **CSS3**: 스타일링 및 반응형 디자인
- **JavaScript (ES6+)**: 핵심 로직 구현

### 3D 그래픽스
- **Three.js**: 3D 렌더링 및 시각화
- **WebGL**: 하드웨어 가속 그래픽스

### 컴퓨터 비전
- **MediaPipe**: Google의 ML 프레임워크
- **WebRTC**: 카메라 스트리밍

### 웹 API
- **getUserMedia**: 카메라 접근
- **Canvas API**: 이미지 처리
- **File API**: 모델 내보내기

## 📊 성능 최적화

### 권장 설정
- **해상도**: 1280x720 (HD)
- **프레임레이트**: 30fps
- **스캔 시간**: 30초 이내
- **포인트 밀도**: 2000+ 포인트

### 브라우저 호환성
- Chrome 90+: ✅ 완전 지원
- Firefox 88+: ✅ 완전 지원
- Safari 14+: ✅ 지원 (일부 제한)
- Edge 90+: ✅ 완전 지원

## 🔧 고급 설정

### 카메라 설정 수정
```javascript
// app.js에서 카메라 설정 변경
const stream = await navigator.mediaDevices.getUserMedia({
    video: {
        width: { ideal: 1920 },  // 해상도 증가
        height: { ideal: 1080 },
        facingMode: 'environment', // 후면 카메라
        frameRate: { ideal: 30 }   // 프레임레이트
    }
});
```

### 포인트 클라우드 품질 조정
```javascript
// 포인트 생성 빈도 조정
const numPoints = 100; // 기본값: 50

// 포인트 크기 조정
const material = new THREE.PointsMaterial({
    size: 0.05,  // 기본값: 0.1
    vertexColors: true
});
```

## 🐛 문제 해결

### 일반적인 문제들

**카메라에 접근할 수 없음:**
- HTTPS 환경에서 실행하는지 확인
- 브라우저 설정에서 카메라 권한 확인
- 다른 애플리케이션이 카메라를 사용 중인지 확인

**3D 모델이 표시되지 않음:**
- WebGL 지원 브라우저 사용
- 그래픽 드라이버 업데이트
- 하드웨어 가속 활성화

**스캔 품질이 낮음:**
- 충분한 조명 확보
- 카메라를 천천히 움직이기
- 스캔 시간을 늘리기 (30초 이상)

### 디버깅

브라우저 개발자 도구에서 콘솔 확인:
```javascript
// 디버그 모드 활성화
localStorage.setItem('debug', 'true');
```

## 🔮 향후 계획

### 예정된 기능들
- **실제 깊이 추정**: 스테레오 비전 구현
- **AR 기능**: 실시간 AR 오버레이
- **클라우드 저장**: 온라인 모델 저장소
- **AI 개선**: 더 정확한 방 인식
- **측정 도구**: 실제 크기 측정 기능

### 기여 방법
1. Fork 프로젝트
2. 새로운 브랜치 생성 (`git checkout -b feature/새기능`)
3. 변경사항 커밋 (`git commit -am '새 기능 추가'`)
4. 브랜치에 Push (`git push origin feature/새기능`)
5. Pull Request 생성

## 📄 라이선스

MIT License - 자세한 내용은 `LICENSE` 파일 참조

## 🙏 감사의 말

- **Three.js** 팀: 훌륭한 3D 라이브러리
- **Google MediaPipe**: ML 프레임워크 제공
- **WebRTC** 커뮤니티: 웹 카메라 기술

---

**개발자**: AI Assistant  
**버전**: 1.0.0  
**최종 업데이트**: 2024년

🌟 **이 프로젝트가 도움이 되었다면 별표를 눌러주세요!**
